[gd_scene load_steps=4 format=3 uid="uid://clxx6psfl5py8"]

[ext_resource type="Script" path="res://Code/PlayerBodyController.gd" id="1_ihx5p"]
[ext_resource type="PackedScene" uid="uid://cbkuu0rnihxcb" path="res://ScenePrefabs/ArmsPrefab.tscn" id="2_rc0bo"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_uioy7"]

[node name="PlayerBody" type="CharacterBody3D" node_paths=PackedStringArray("gunEffects", "animationTree", "CameraNode", "ArmsNode")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.28412, 0.668381, 0)
collision_layer = 2
floor_max_angle = 1.0472
script = ExtResource("1_ihx5p")
gunEffects = NodePath("ArmsContainer/ArmsMesh/WeaponEffectsController")
animationTree = NodePath("ArmsContainer/ArmsMesh/AnimationTree")
HandStateMachinePlaybackPath = "parameters/playback"
IdleAnimationName = "IdleLowered"
AimingAnimationName = "IdleRaised"
IdleFireAnimationName = "FiringLowered1"
AimingFireAnimationName = "FiringRaised1"
ReloadAnimationName = "Reloading"
CameraNode = NodePath("Camera3D")
ArmsNode = NodePath("ArmsContainer")
RotationSpeed = 0.3
CameraActualRotationSpeed = 20.0
ArmsActualRotationSpeed = 12.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_uioy7")

[node name="ArmsContainer" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.85, 0)

[node name="ArmsMesh" parent="ArmsContainer" instance=ExtResource("2_rc0bo")]

[node name="Skeleton3D" parent="ArmsContainer/ArmsMesh/rig" index="0"]
bones/127/rotation = Quaternion(0.381147, -0.517461, 0.612727, 0.459921)
bones/127/scale = Vector3(0.999806, 0.999806, 0.999806)
bones/128/rotation = Quaternion(0.176998, -1.70799e-08, 2.06213e-08, 0.984211)
bones/129/rotation = Quaternion(0.0294437, 0.665592, -0.080542, 0.741373)
bones/129/scale = Vector3(1.00027, 1.00027, 1.00027)
bones/138/scale = Vector3(1.00027, 1.00027, 1.00027)
bones/140/rotation = Quaternion(-3.48273e-08, 0.356964, 1.34068e-07, 0.934118)
bones/140/scale = Vector3(1.00027, 1.00027, 1.00027)
bones/142/scale = Vector3(1.00019, 1.00019, 1.00019)
bones/143/scale = Vector3(1.00019, 1.00019, 1.00019)
bones/152/rotation = Quaternion(-0.114303, -0.621561, 0.0616437, 0.772527)
bones/153/rotation = Quaternion(-0.0770659, 0.00783441, 0.000605591, 0.996995)
bones/153/scale = Vector3(0.999806, 0.999805, 0.999806)
bones/154/rotation = Quaternion(0.176998, -1.8858e-08, 1.79765e-08, 0.984211)
bones/155/rotation = Quaternion(0.379336, -0.5161, 0.613849, 0.461447)
bones/157/rotation = Quaternion(0.379336, -0.5161, 0.613849, 0.461447)
bones/159/rotation = Quaternion(0.17699, -0.00146557, 0.000263589, 0.984212)
bones/160/rotation = Quaternion(-5.01663e-08, 0.357607, 9.5058e-08, 0.933872)
bones/161/rotation = Quaternion(0.0562996, 0.356389, -0.0646824, 0.930394)
bones/161/scale = Vector3(0.999983, 1.00004, 0.999981)
bones/232/rotation = Quaternion(0.972125, 1.9341e-09, 0.234465, -3.81434e-09)
bones/266/position = Vector3(0.256866, 0.209962, -0.289227)
bones/266/rotation = Quaternion(0.134496, 0.206119, -0.773658, 0.583849)
bones/266/scale = Vector3(1, 24.3943, 1)
bones/273/position = Vector3(-0.0738115, 0.00730722, -0.0052682)
bones/273/rotation = Quaternion(-0.0361723, 0.0737295, 0.0213976, 0.996392)

[node name="Arms" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="0"]
layers = 2

[node name="Hands" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="1"]
layers = 2

[node name="RevolverBarrel" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="2"]
layers = 2

[node name="RevolverBody" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="3"]
layers = 2

[node name="RevolverCylinder" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="4"]
layers = 2

[node name="RevolverCylinder-PushRod" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="5"]
layers = 2

[node name="RevolverCylinderGuard" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="6"]
layers = 2

[node name="RevolverFingerGuard" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="7"]
layers = 2

[node name="RevolverGrip" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="8"]
layers = 2

[node name="RevolverHammer" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="9"]
layers = 2

[node name="RevolverReleasePin" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="10"]
layers = 2

[node name="RevolverTrigger" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="11"]
layers = 2

[node name="BaseAttachment" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="12"]
transform = Transform3D(1.00006, 0.0106623, 0.00263359, -0.0102852, 0.8251, 0.565098, 0.00385186, -0.565091, 0.82516, 0.193854, -0.373166, -0.500473)

[node name="FrontAttachment" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="13"]
transform = Transform3D(1.00006, 0.0102971, -0.00381828, -0.0102848, 1.00006, 0.00321463, 0.00385117, -0.00317502, 1.0001, 0.195482, -0.276928, -0.666164)

[node name="RayCast3D" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D/FrontAttachment/BarrelEnd" index="0"]
collision_mask = 9

[node name="RevolverAmmoAttachment" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="14"]
transform = Transform3D(1.00006, -0.00381877, -0.0102966, -0.0102843, 0.00321451, -1.00006, 0.00385166, 1.0001, 0.0031749, 0.195619, -0.256244, -0.646366)

[node name="SpeedReloaderAttachment" parent="ArmsContainer/ArmsMesh/rig/Skeleton3D" index="15"]
transform = Transform3D(0.509235, -0.856714, 0.0864073, 0.235562, 0.239295, 0.94076, -0.828175, -0.457786, 0.325723, -0.273213, -0.851209, -0.0565253)

[node name="WeaponEffectsController" parent="ArmsContainer/ArmsMesh" index="3"]
ImpactForce = 30.0

[node name="Flashlight" type="SpotLight3D" parent="ArmsContainer"]
transform = Transform3D(0.999986, 0.00160495, 0.005057, -0.00161713, 0.999996, 0.0024044, -0.00505312, -0.00241254, 0.999984, -0.278919, -0.739637, 0.114651)
light_color = Color(0.956863, 0.823529, 0.72549, 1)
light_indirect_energy = 0.5
light_volumetric_fog_energy = 0.01
shadow_enabled = true
spot_range = 100.0
spot_attenuation = 1.41421
spot_angle = 30.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.85, 0)
current = true
fov = 60.0

[editable path="ArmsContainer/ArmsMesh"]
